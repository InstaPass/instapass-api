FORMAT: 1A

# Residents' Community APIs

Providing HTTP API for residents' client, allowing them to acquire QR code as their accessing certificate and dealing with community issues.

## Obtain QR Code [/resident/qrcode/{id}]

+ Parameters

    + id: 1 (number) - An unique identifier of the community.

### refresh latest qr code [GET]

+ Response 200 (application/json)

{
    "status": "ok",
    "last_refresh_time": 1589014703,
    "secret": "instapass{YzNWcFkybGtZV2x5WlElM0QlM0Q=}"
}

## Obtain Community Info [/resident/community]

### refresh community info [GET]

+ Response 200 (application/json)

{
    "status": "ok",
    "communities": [
        {
            "community_id": 42,
            "community": "同德小区",
            "address": "武汉市江岸区胜利街275号",
<<<<<<< HEAD
            "inside": true,
            "temporary": true
=======
            "strategy": "无限制"
>>>>>>> 8eb4effc7569c2cea9f9418e21d2d918688eb4f3
        },
        {
            "community_id": 43,
            "community": "其他小区",
            "address": "武汉市江岸区胜利街244号",
<<<<<<< HEAD
            "inside": false,
            "temporary": false
=======
            "strategy": "3 天 1 次"
>>>>>>> 8eb4effc7569c2cea9f9418e21d2d918688eb4f3
        }
    ]
}

## Request Enter Community [/resident/community/enter]

### request membership of a community [POST]

+ Request (application/json)

{
    "secret": "instapass{bac2933c-b859-11ea-ac14-acde48001122}"
}

+ Response 200 (application/json)

{
    "status": "ok",
    "temporary": true,
    "community_id": 44,
    "community": "其他小区"
}

## Request Leave Community [/resident/community/leave]

### give up membership of a community [POST]

+ Request (application/json)

{
    "community_id": 42
}

+ Response 200 (application/json)

{
    "status": "ok"
}